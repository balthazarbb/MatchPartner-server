(this["webpackJsonpMatchPartner-client"]=this["webpackJsonpMatchPartner-client"]||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),r=n.n(i),s=(n(84),n(31)),o=n(50),l=n(54),d=n.n(l),h=n(69),u=n(20),j=n(21),m=n(23),b=n(22),p=n(13),O=n(14),f=n(144),x=n(146),g=n(141),v=n(2),y=Object(g.a)({root:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}});var C=function(e){var t=y();return Object(v.jsx)("div",{children:Object(v.jsxs)(f.a,{className:t.root,children:[Object(v.jsx)("h1",{children:"welcome to matchpartner"}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(O.b,{style:{marginLeft:"10px"},to:"/signup",children:"SignUp"}),Object(v.jsx)(O.b,{style:{marginLeft:"10px"},to:"/signin",children:"LogIn"})]})]})})},S=n(153),w=n(147),I=Object(g.a)({root:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}});var N=function(e){var t=e.onSubmit,n=I();return Object(v.jsx)(f.a,{className:n.root,children:Object(v.jsx)(x.a,{children:Object(v.jsxs)("form",{onSubmit:t,children:[Object(v.jsx)("h1",{children:"SignUp"}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic InputUsername",label:"Username",variant:"outlined",name:"username"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic InputPassword",type:"password",label:"Password",variant:"outlined",name:"password"})}),Object(v.jsx)(w.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})})})},A=Object(g.a)({root:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}});var D=function(e){var t=e.onSignIn,n=e.error,a=A();return Object(v.jsx)(f.a,{className:a.root,children:Object(v.jsx)(x.a,{children:Object(v.jsxs)("form",{onSubmit:t,children:[Object(v.jsx)("h1",{children:"LogIn"}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic",label:"Username",variant:"outlined",name:"username"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic",type:"password",label:"Password",variant:"outlined",name:"password"})}),Object(v.jsx)(w.a,{type:"submit",variant:"contained",color:"primary",children:"LogIn"}),n&&Object(v.jsx)("p",{style:{color:"red"},children:n.error})]})})})},k=n(16),M=n.n(k),P="https://matchpartner.herokuapp.com",L=n(149),_=n(148),J=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(e){var t=this.props,n=t.onDelete,a=t.matches,c=t.index,i=t.style;return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(v.jsx)("h2",{children:"My Matches"}),Object(v.jsx)("ul",{button:!0,style:i,children:a.map((function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)(O.b,{to:"/matches/".concat(e._id),children:e.sports}),Object(v.jsx)(w.a,{size:"small",variant:"contained",color:"primary",href:"#contained-buttons",children:Object(v.jsx)(O.b,{to:"/matches/".concat(e._id,"/edit"),children:" Edit "})}),Object(v.jsx)(w.a,{size:"small",onClick:function(){n(e._id)},variant:"contained",color:"primary",href:"#contained-buttons",children:"Delete"})]},e._id)}))},c)]})}}]),n}(a.Component),E=n(154),T=Object(g.a)({root:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var q=function(e){var t=e.onAdd,n=e.matches,a=e.onDelete,c=e.user,i=e.handleMatchChange,r=T();return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(v.jsxs)(f.a,{className:r.root,variant:"outlined",children:[Object(v.jsxs)(x.a,{children:[Object(v.jsx)(_.a,{className:r.root,color:"textSecondary",gutterBottom:!0,children:Object(v.jsxs)("h2",{children:["Welcome back ",c.username]})}),Object(v.jsx)(E.a,{className:r.root,src:"/broken-image.jpg"}),Object(v.jsx)(_.a,{className:r.root,color:"textSecondary"}),Object(v.jsxs)(_.a,{className:r.root,variant:"body2",component:"p",children:[Object(v.jsx)("br",{}),'"Get up and do sports!"']})]}),Object(v.jsx)(L.a,{})]}),Object(v.jsx)(O.b,{to:"/add-form",children:"Add Match"}),Object(v.jsx)(w.a,{size:"small"}),Object(v.jsx)(J,{onAdd:t,matches:n,onDelete:a,onChange:i})]})},U=n(150),W=n(151),B=n(152),G=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var z=function(e){var t=e.user,n=e.onLogout,a=G();return Object(v.jsx)("div",{className:a.root,children:Object(v.jsx)(U.a,{color:"default",position:"static",children:Object(v.jsxs)(W.a,{children:[Object(v.jsx)(B.a,{color:"inherit","aria-label":"menu"}),Object(v.jsx)(_.a,{children:Object(v.jsx)("img",{width:"90",height:"80",padding:"5px",src:"https://res.cloudinary.com/dg3rhmvdt/image/upload/v1621518135/IMG_1098_isniex.png",alt:"logo"})}),Object(v.jsx)("h3",{children:"MatchPartner"}),t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{onClick:n,children:"Logout"}),Object(v.jsx)(O.b,{style:{marginLeft:"10px"},to:"/list",children:"AllMatches"}),Object(v.jsx)(O.b,{style:{marginLeft:"10px"},to:"/profile",children:"MyProfile"})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(O.b,{style:{marginLeft:"10px"},to:"/signin",children:"LogIn"})})]})})})},H=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onCom,n=e.matchId;return Object(v.jsxs)("form",{onSubmit:function(e){return t(e,n)},children:[Object(v.jsx)("input",{name:"comment",type:"text",placeholder:"Comment"}),Object(v.jsx)("button",{type:"submit",children:"Submit"})]})}}]),n}(a.Component),F=n(33),R=n(70),K=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={matches:null},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props);var t=this.props.match.params.matchesId;console.log(t),M.a.get("".concat(P,"/api/matches/").concat(t),{withCredentials:!0}).then((function(t){console.log("inside of then block",t.data),e.setState({matches:t.data})})).catch((function(e){console.log("detail view crashed")}))}},{key:"render",value:function(){console.log(this.props);var e=this.state.matches,t=this.props,n=t.onAdd,a=t.onCom,c=t.user,i=t.comments;return console.log(e),c?e?Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(v.jsx)("h1",{children:"Match Details"}),Object(v.jsx)(R.a,{style:{width:"18rem"},children:Object(v.jsxs)(F.a,{variant:"outlined",children:[Object(v.jsxs)(F.a.Item,{children:["What: ",e.sports]}),Object(v.jsxs)(F.a.Item,{children:["When: ",e.dateAndTime]}),Object(v.jsxs)(F.a.Item,{children:["How long: ",e.duration]}),Object(v.jsxs)(F.a.Item,{children:["Participants: ",e.numberOfParticipants]}),Object(v.jsxs)(F.a.Item,{children:["Bring: ",e.equipment]})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:function(){n(e._id)},children:"Join this Match"}),Object(v.jsx)("br",{}),Object(v.jsx)(H,{onCom:a,comments:i,matchId:e._id}),Object(v.jsx)("div",{children:" Comments: "}),Object(v.jsx)("br",{}),e.commentId.map((function(t){return console.log(e),Object(v.jsxs)("li",{children:[" ",t.comment]},t._id)})),e.userId.map((function(t){return console.log(e),Object(v.jsxs)("p",{children:["Who joins: ",t.username]},t._id)}))]}):Object(v.jsx)("p",{children:"Loading . . ."}):Object(v.jsx)(p.a,{to:"/signin"})}}]),n}(a.Component),Q=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(e){var t=this.props.matches;return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(v.jsx)("h2",{children:"All matches"}),Object(v.jsx)("br",{}),Object(v.jsx)("ul",{children:t.map((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(O.b,{to:"/matches/".concat(e._id),children:e.sports})})}))})]})}}]),n}(a.Component),V=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={matches:{}},e.handleSportsChange=function(t){var n=t.target.value,a=e.state.matches,c=JSON.parse(JSON.stringify(a));c.sports=n,e.setState({matches:c})},e.handleDateAndTimeChange=function(t){var n=t.target.value,a=e.state.matches,c=JSON.parse(JSON.stringify(a));c.dateAndTime=n,e.setState({matches:c})},e.handleDurationChange=function(t){var n=t.target.value,a=e.state.matches,c=JSON.parse(JSON.stringify(a));c.duration=n,e.setState({matches:c})},e.handleNumberOfParticipantsChange=function(t){var n=t.target.value,a=e.state.matches,c=JSON.parse(JSON.stringify(a));c.numberOfParticipants=n,e.setState({matches:c})},e.handleEquipmentChange=function(t){var n=t.target.value,a=e.state.matches,c=JSON.parse(JSON.stringify(a));c.equipment=n,e.setState({matches:c})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props);var t=this.props.match.params.matchesId;console.log(t),M.a.get("".concat(P,"/api/matches/").concat(t),{withCredentials:!0}).then((function(t){console.log("inside of then block",t.data),e.setState({matches:t.data})})).catch((function(e){console.log("detail view crashed")}))}},{key:"render",value:function(){var e=this.state.matches,t=this.props.onEdit;return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(v.jsx)("h1",{children:"Edit your  Match"}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{onChange:this.handleSportsChange,type:"text",value:e.sports,id:"outlined-basic InputUsername",label:"Which Sport?",variant:"outlined",name:"sports"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{onChange:this.handleDateAndTimeChange,type:"text",value:e.dateAndTime,id:"outlined-basic",label:"Date and Time?",variant:"outlined",name:"dateAndTime"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{onChange:this.handleDurationChange,type:"text",value:e.duration,id:"outlined-basic",label:"Duration?",variant:"outlined",name:"duration"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{onChange:this.handleNumberOfParticipantsChange,type:"text",value:e.numberOfParticipants,id:"outlined-basic",label:"How many?",variant:"outlined",name:"numberOfParticipants"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{onChange:this.handleEquipmentChange,type:"text",value:e.equipment,id:"outlined-basic",label:"Equipment needed?",variant:"outlined",name:"equipment"})}),Object(v.jsx)(w.a,{onClick:function(){t(e)},variant:"contained",color:"primary",children:"Edit Match"})]})}}]),n}(a.Component),X=Object(g.a)({root:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}});var Y=function(e){var t=e.onAdd,n=X();return Object(v.jsx)(f.a,{className:n.root,children:Object(v.jsx)(x.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)("form",{onSubmit:t,children:[Object(v.jsx)("h1",{children:"Create a new Match"}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic InputUsername",label:"Which Sport?",variant:"outlined",name:"sports"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic",label:"Date and Time?",variant:"outlined",name:"dateAndTime"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic",label:"Duration?",variant:"outlined",name:"duration"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic",label:"How many?",variant:"outlined",name:"numberOfParticipants"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(S.a,{id:"outlined-basic",label:"Equipment needed?",variant:"outlined",name:"equipment"})}),Object(v.jsx)(w.a,{type:"submit",variant:"contained",color:"primary",children:"Create Match"})]})})})})},Z=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={user:null,error:null,fetchingUser:!0,matches:[],comments:[]},e.handleSignUp=function(t){t.preventDefault();var n=t.target,a=n.username,c=n.password,i={username:a.value,password:c.value};console.log(i),M.a.post("".concat(P,"/api/signup"),i,{withCredentials:!0}).then((function(t){e.setState({user:t.data},(function(){e.props.history.push("/signin")}))})).catch((function(e){console.log(e)}))},e.handleSignIn=function(){var t=Object(h.a)(d.a.mark((function t(n){var a,c,i,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=n.target,c=a.username,i=a.password,r={username:c.value,password:i.value},M.a.post("".concat(P,"/api/signin"),r,{withCredentials:!0}).then((function(t){e.setState({user:t.data,error:null},(function(){e.props.history.push("/profile")}))})).catch((function(t){e.setState({error:t.response.data})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLogout=function(){M.a.get("".concat(P,"/api/logout"),{withCredentials:!0}).then((function(){e.setState({user:null},e.props.history.push("/"))})).catch((function(t){e.setState({error:t.response.data})}))},e.handleJoin=function(e){console.log(e),M.a.patch("".concat(P,"/api/matchespart/").concat(e),{},{withCredentials:!0}).then((function(e){})).catch((function(e){}))},e.handleAdd=function(t){t.preventDefault();var n={sports:t.target.sports.value,dateAndTime:t.target.dateAndTime.value,duration:t.target.duration.value,numberOfParticipants:t.target.numberOfParticipants.value,equipment:t.target.equipment.value,completed:!1};console.log("something"),M.a.post("".concat(P,"/api/create"),n,{withCredentials:!0}).then((function(t){e.setState({matches:[t.data].concat(Object(o.a)(e.state.matches))},(function(){console.log(e.state.matches),e.props.history.push("/profile")}))})).catch((function(e){console.log("add match fail")}))},e.handleAddComment=function(t,n){t.preventDefault(),console.log(t.target.comment.value);var a={userId:e.state.user._id,comment:t.target.comment.value};console.log(t),M.a.post("".concat(P,"/api/createcomment"),{newComment:a},{withCredentials:!0}).then((function(t){M.a.patch("".concat(P,"/api/matches/").concat(n,"/addcomment"),{comment:t.data._id},{withCredentials:!0}).then((function(n){e.setState({comments:[t.data].concat(Object(o.a)(e.state.comments)),matches:[n.data].concat(Object(o.a)(e.state.matches))})})).catch((function(e){console.log("add comment fail")})),e.props.history.push("/profile")}))},e.handleDelete=function(t){M.a.delete("".concat(P,"/api/matches/").concat(t),{withCredentials:!0}).then((function(){console.log("DELETING");var n=e.state.matches.filter((function(e){return e._id!==t}));e.setState({matches:n},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("delete not working")}))},e.handleEdit=function(t){M.a.patch("".concat(P,"/api/matches/").concat(t._id),t).then((function(n){var a=e.state.matches.map((function(e){return e._id===t._id&&(e.sports=t.sports,e.dateAndTime=t.dateAndTime,e.duration=t.duration,e.numberOfParticipants=t.numberOfParticipants,e.equipment=t.equipment),e}));e.setState({matches:a},(function(){e.props.history.push("/profile")}))})).catch((function(e){}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;M.a.get("".concat(P,"/api/matches")).then((function(t){e.setState({matches:t.data})})).catch((function(e){})),M.a.get("".concat(P,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({user:t.data,fetchingUser:!1})})).catch((function(t){e.setState({error:t.data,fetchingUser:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,a=t.user,c=t.fetchingUser,i=t.matches;return c?Object(v.jsx)("p",{children:"Loading . . . "}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsx)(z,{onLogout:this.handleLogout,user:a,error:n})}),Object(v.jsxs)(p.d,{children:[Object(v.jsx)(p.b,{exact:!0,path:"/",component:C,user:a}),Object(v.jsx)(p.b,{path:"/list",render:function(e){return Object(v.jsx)(Q,{matches:i})}}),Object(v.jsx)(p.b,{path:"/signup",render:function(t){return Object(v.jsx)(N,Object(s.a)({onSubmit:e.handleSignUp},t))}}),Object(v.jsx)(p.b,{path:"/signin",render:function(t){return Object(v.jsx)(D,Object(s.a)({error:n,onSignIn:e.handleSignIn},t))}}),Object(v.jsx)(p.b,{exact:!0,path:"/profile",render:function(t){return Object(v.jsx)(q,Object(s.a)({user:a,onAdd:e.handleAdd,matches:i,onDelete:e.handleDelete},t))}}),Object(v.jsx)(p.b,{exact:!0,path:"/matches/:matchesId",render:function(t){return Object(v.jsx)(K,Object(s.a)(Object(s.a)({user:a,matches:i,onCom:e.handleAddComment},t),{},{onAdd:e.handleJoin}))}}),Object(v.jsx)(p.b,{exact:!0,path:"/matches/:matchesId",render:function(t){return Object(v.jsx)(V,Object(s.a)({user:a,onChange:e.handleMatchChange,matches:i},t))}}),Object(v.jsx)(p.b,{path:"/add-form",render:function(){return Object(v.jsx)(Y,{onAdd:e.handleAdd})}}),Object(v.jsx)(p.b,{path:"/matches/:matchesId/edit",render:function(t){return Object(v.jsx)(V,Object(s.a)({onEdit:e.handleEdit},t))}})]})]})}}]),n}(a.Component),$=Object(p.g)(Z);r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(O.a,{children:Object(v.jsx)($,{})})}),document.getElementById("root"))},84:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.c9e39096.chunk.js.map