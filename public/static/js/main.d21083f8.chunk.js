(this["webpackJsonpMatchPartner-client"]=this["webpackJsonpMatchPartner-client"]||[]).push([[0],{59:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(24),s=n.n(a),o=(n(59),n(26)),i=n(35),l=n(32),u=n.n(l),h=n(45),d=n(13),j=n(14),p=n(16),b=n(15),m=n(7),O=n(11),f=n(1);var x=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"welcome to matchpartner"}),Object(f.jsx)(O.b,{style:{marginLeft:"10px"},to:"/signup",children:"SignUp"}),Object(f.jsx)(O.b,{style:{marginLeft:"10px"},to:"/signin",children:"LogIn"})]})};var g=function(e){var t=e.onSubmit;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"InputUsername",name:"username"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(f.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})};var v=function(e){var t=e.onSignIn,n=e.error;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("h1",{children:"SignIn"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"InputEmail",name:"username"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(f.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),n&&Object(f.jsx)("p",{style:{color:"red"},children:n.error})]})},y=n(12),w=n.n(y),S="https://matchpartner.herokuapp.com",C=n(104),I=n(105),k=n(107),A=n(108),D=n(106);var L=function(e){e.username;var t=e.onLogout,n=e.user;return Object(f.jsx)(C.a,{position:"static",children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)(D.a,{edge:"start",color:"inherit","aria-label":"menu"}),Object(f.jsx)(k.a,{variant:"h6",children:Object(f.jsx)("h1",{children:"MatchPartner"})}),n?Object(f.jsx)(A.a,{onClick:t,children:"Logout"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.b,{style:{marginLeft:"10px"},to:"/signup",children:"SignUp"}),Object(f.jsx)(O.b,{style:{marginLeft:"10px"},to:"/signin",children:"LogIn"})]})]})})},U=n(109),N=n(111),P=n(110),M=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.onAdd;return Object(f.jsxs)("form",{onSubmit:e,children:[Object(f.jsx)("input",{name:"sports",type:"text",placeholder:"Enter name"}),Object(f.jsx)("input",{name:"username",type:"text",placeholder:"Enter name"}),Object(f.jsx)("button",{type:"submit",children:"Submit"})]})}}]),n}(c.Component),E=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onAdd,n=e.onDelete,c=e.matches;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Matchlist"}),Object(f.jsx)(M,{onAdd:t}),c.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(O.b,{to:"/matches/".concat(e._id),children:e.sports}),Object(f.jsx)("button",{onClick:!0,children:"edit"}),Object(f.jsx)("button",{onClick:function(){n(e._id)},children:"delete"})]},e._id)}))]})}}]),n}(c.Component);var F=function(e){var t=e.user,n=e.onAdd,c=e.matches,r=e.onDelete;return Object(f.jsxs)("div",{children:[Object(f.jsxs)(U.a,{variant:"outlined",children:[Object(f.jsxs)(P.a,{children:[Object(f.jsx)(k.a,{color:"textSecondary",gutterBottom:!0,children:Object(f.jsxs)("h2",{children:["Hi, ",t.username]})}),Object(f.jsx)(k.a,{color:"textSecondary",children:"insert img here somewhen"}),Object(f.jsxs)(k.a,{variant:"body2",component:"p",children:["well meaning and kindly.",Object(f.jsx)("br",{}),'"a benevolent smile"']})]}),Object(f.jsx)(N.a,{})]}),Object(f.jsx)(A.a,{size:"small"}),Object(f.jsx)(E,{onAdd:n,matches:c,onDelete:r})]})},J=(c.Component,function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.onAdd;return Object(f.jsxs)("form",{onSubmit:e,children:[Object(f.jsx)("input",{name:"comment",type:"text",placeholder:"Comment"}),Object(f.jsx)("button",{type:"submit",children:"Submit"})]})}}]),n}(c.Component)),_=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={matches:null},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props);var t=this.props.match.params.matchesId;console.log(t),w.a.get("".concat(S,"/api/matches/").concat(t),{withCredentials:!0}).then((function(t){console.log("inside of then block",t.data),e.setState({matches:t.data})})).catch((function(e){console.log("detail view crashed")}))}},{key:"render",value:function(){console.log(this.props);var e=this.state.matches,t=this.props,n=t.onAdd,c=(t.onDelete,t.user),r=(t.match,t.comments);return console.log(e),c?e?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Match Details"}),Object(f.jsx)("div",{children:e.sports}),Object(f.jsx)("div",{children:e.username}),Object(f.jsx)(J,{onAdd:this.handleAddComment,comments:r}),Object(f.jsx)("div",{children:" Comments: "}),e.userId.map((function(t){return console.log(e),Object(f.jsxs)("li",{children:["Participants: ",t.username]})})),Object(f.jsx)("button",{onClick:function(){n(e._id)},children:"Join"})]}):Object(f.jsx)("p",{children:"Loading . . ."}):Object(f.jsx)(m.a,{to:"/signin"})}}]),n}(c.Component),B=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){this.props.matches;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"welcome to the list"}),Object(f.jsx)("p",{children:"list in here"})]})}}]),n}(c.Component),z=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={user:null,error:null,fetchingUser:!0,matches:[]},e.handleSignUp=function(t){t.preventDefault();var n=t.target,c=n.username,r=n.password,a={username:c.value,password:r.value};console.log(a),w.a.post("".concat(S,"/api/signup"),a,{withCredentials:!0}).then((function(t){e.setState({user:t.data},(function(){e.props.history.push("/signin")}))})).catch((function(e){console.log(e)}))},e.handleSignIn=function(){var t=Object(h.a)(u.a.mark((function t(n){var c,r,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),c=n.target,r=c.username,a=c.password,s={username:r.value,password:a.value},w.a.post("".concat(S,"/api/signin"),s,{withCredentials:!0}).then((function(t){e.setState({user:t.data,error:null},(function(){e.props.history.push("/profile")}))})).catch((function(t){e.setState({error:t.response.data})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLogout=function(){w.a.get("".concat(S,"/api/logout"),{withCredentials:!0}).then((function(){e.setState({user:null},e.props.history.push("/"))})).catch((function(t){e.setState({error:t.response.data})}))},e.handleJoin=function(e){console.log(e),w.a.patch("".concat(S,"/api/matchespart/").concat(e),{},{withCredentials:!0}).then((function(e){})).catch((function(e){}))},e.handleAdd=function(t){t.preventDefault();var n={sports:t.target.sports.value,username:t.target.username.value,completed:!1};console.log("something"),w.a.post("".concat(S,"/api/create"),n,{withCredentials:!0}).then((function(t){e.setState({matches:[t.data].concat(Object(i.a)(e.state.matches))},(function(){console.log(e.state.matches),e.props.history.push("/profile")}))})).catch((function(e){console.log("add match fail")}))},e.handleAddComment=function(t){t.preventDefault();var n={user:t.target.user.value,myComment:t.target.myComment.value,completed:!1};console.log(t),w.a.post("".concat(S,"/api/createcomment"),n,{withCredentials:!0}).then((function(t){e.setState({comments:[t.data].concat(Object(i.a)(e.state.matches))},(function(){console.log(e.state.matches),e.props.history.push("/profile")}))})).catch((function(e){console.log("add comment fail")}))},e.handleDelete=function(t){w.a.delete("".concat(S,"/api/matches/").concat(t),{withCredentials:!0}).then((function(){console.log("DELETING");var n=e.state.matches.filter((function(e){return e._id!==t}));e.setState({matches:n},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("delete not working")}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;w.a.get("".concat(S,"/api/matches")).then((function(t){e.setState({matches:t.data})})).catch((function(e){})),w.a.get("".concat(S,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({user:t.data,fetchingUser:!1})})).catch((function(t){e.setState({error:t.response.data,fetchingUser:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,c=t.username,r=t.user,a=t.fetchingUser,s=t.matches;return a?Object(f.jsx)("p",{children:"Loading . . . "}):Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)(L,{onLogout:this.handleLogout,user:c,error:n})}),Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{exact:!0,path:"/",component:x,user:c}),Object(f.jsx)(m.b,{exact:!0,path:"/list",component:B,user:c,matches:s}),Object(f.jsx)(m.b,{path:"/signup",render:function(t){return Object(f.jsx)(g,Object(o.a)({onSubmit:e.handleSignUp},t))}}),Object(f.jsx)(m.b,{path:"/signin",render:function(t){return Object(f.jsx)(v,Object(o.a)({error:n,onSignIn:e.handleSignIn},t))}}),Object(f.jsx)(m.b,{exact:!0,path:"/profile",render:function(t){return Object(f.jsx)(F,Object(o.a)({user:r,onAdd:e.handleAdd,matches:s,onDelete:e.handleDelete},t))}}),Object(f.jsx)(m.b,{exact:!0,path:"/matches/:matchesId",render:function(t){return Object(f.jsx)(_,Object(o.a)(Object(o.a)({user:r,matches:s},t),{},{onAdd:e.handleJoin}))}})]})]})}}]),n}(c.Component),G=Object(m.g)(z);s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(O.a,{children:Object(f.jsx)(G,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.d21083f8.chunk.js.map